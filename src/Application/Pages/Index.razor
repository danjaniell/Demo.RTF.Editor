@page "/"
@using Application.Pages
<PageTitle>Home</PageTitle>

<RadzenSplitButton Click=@OnClick Text="@buttonText" Icon="account_circle">
    <ChildContent>
        <RadzenSplitButtonItem Text="jodit" Value="1" />
        <RadzenSplitButtonItem Text="CKEditor" Value="2" />
        <RadzenSplitButtonItem Text="QuillJs" Value="3" />
        <RadzenSplitButtonItem Text="Radzen HTMLEditor" Value="4" />
        <RadzenSplitButtonItem Text="Blazorise RichTextEdit" Value="5" />
    </ChildContent>
</RadzenSplitButton>

@if (selectedComponent == "1")
{
    <JoditEditor/>
}
@if (selectedComponent == "2")
{
    <CKEditor/>
}
@if (selectedComponent == "3")
{
    <QuillEditor/>
}
@if (selectedComponent == "4")
{
    <RadzenEditor/>
}
@if (selectedComponent == "5")
{
    <BlazoriseEditor />
}

@code {
    string selectedComponent = "0";
    string buttonText = nameof(JoditEditor);

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            UpdateButtonLabels("1");
            await InvokeAsync(StateHasChanged);
        }
    }

    void OnClick(RadzenSplitButtonItem item)
    {
        UpdateButtonLabels(item.Value);
    }

    void UpdateButtonLabels(string componentToShow)
    {
        selectedComponent = componentToShow;
        if (componentToShow == "1")
        {
            buttonText = nameof(JoditEditor);
        }
        else if (componentToShow == "2")
        {
            buttonText = nameof(CKEditor);
        }
        else if (componentToShow == "3")
        {
            buttonText = nameof(QuillEditor);
        }
        else if (componentToShow == "4")
        {
            buttonText = nameof(RadzenEditor);
        }
        else if (componentToShow == "5")
        {
            buttonText = nameof(BlazoriseEditor);
        }
    }
}
